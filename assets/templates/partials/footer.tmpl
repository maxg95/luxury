{{define "partial:footer"}}
<footer>
    <div class="common-background">
    <div class="contact-links">
        <form id="requestForm" action='/' method='POST'>
    <div>
        <label>ЗВОРОТНІЙ ЗВ'ЯЗОК</label>
        <input type='text' name='request' placeholder='Введіть ваш номер (без +38)'>
    </div>
    <div>
        <input type='submit' value='Передзвоніть мені'>
    </div>
</form>

<script>
    document.getElementById('requestForm').addEventListener('submit', function(event) {
        event.preventDefault();

        fetch('/', {
            method: 'POST',
            body: new URLSearchParams(new FormData(event.target)),
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
        })
        .then(response => {
            if (response.ok) {
                alert('Дякуємо за запит, ми скоро вам перетелефонуємо!');
                window.location.href = '/';
            } else {
                alert('Ви вказали неправильний номер!');
                window.location.href = '/';
            }
        })
        .catch(error => {
            alert('Ви вказали неправильний номер!');
            window.location.href = '/';
        });
    });
</script>
        <h2 class="footer-h2">Контакти</h2>
        <p class="footer-p">+380989367919</p>
        <h2 class="footer-h2">Графік роботи</h2>
        <p class="footer-p">З понеділка до п'ятниці</p>
        <p class="footer-p">З 10:00 до 18:00</p>
        <h2 class="footer-h2">Адреса</h2>
        <p class="footer-p">місто Київ</p>
        <p class="copyright-notice">&copy; {{now | formatTime "2006"}}</p>

    </div>
    </div>
</footer>
{{end}}